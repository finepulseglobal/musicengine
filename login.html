<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login/Signup - Music Engine</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
            <div class="logo">Music Engine</div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="governance.html">Governance</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="login.html" class="btn">Login/Signup</a></li>
            </ul>
        </nav>
    </header>

    <!-- Login Content -->
    <div class="page-content">
        <div class="container">
            <h2 class="section-title">Login / Signup</h2>
            
            <div class="login-container">
                <!-- QR Code Login -->
                <div class="login-method">
                    <h3>üîê QR Code Login</h3>
                    <p>Scan the QR code with your mobile device to login securely</p>
                    <div class="qr-container">
                        <canvas id="qrcode"></canvas>
                    </div>
                    <button class="btn" onclick="generateQR()">Generate New QR Code</button>
                    <p class="qr-status" id="qrStatus">Waiting for scan...</p>
                </div>

                <!-- Traditional Login -->
                <div class="login-method">
                    <h3>üìß Email Login</h3>
                    <form id="loginForm">
                        <div class="form-group">
                            <label>Email:</label>
                            <input type="email" id="email" placeholder="your@email.com" required>
                        </div>
                        <div class="form-group">
                            <label>Password:</label>
                            <input type="password" id="password" placeholder="Your password" required>
                        </div>
                        <button type="submit" class="btn">Login</button>
                        <button type="button" class="btn btn-secondary" onclick="showSignup()">Create Account</button>
                    </form>
                </div>
            </div>

            <!-- Signup Form -->
            <div class="signup-container" id="signupContainer" style="display: none;">
                <h3>Create New Account</h3>
                <form id="signupForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>First Name:</label>
                            <input type="text" placeholder="First name" required>
                        </div>
                        <div class="form-group">
                            <label>Last Name:</label>
                            <input type="text" placeholder="Last name" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" placeholder="your@email.com" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Password:</label>
                            <input type="password" placeholder="Create password" required>
                        </div>
                        <div class="form-group">
                            <label>Confirm Password:</label>
                            <input type="password" placeholder="Confirm password" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Account Type:</label>
                        <select required>
                            <option value="">Select account type</option>
                            <option value="artist">Artist/Songwriter</option>
                            <option value="producer">Producer</option>
                            <option value="label">Record Label</option>
                            <option value="publisher">Publisher</option>
                            <option value="manager">Manager</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" required> I agree to the Terms of Service and Privacy Policy
                        </label>
                    </div>
                    <button type="submit" class="btn">Create Account</button>
                    <button type="button" class="btn btn-secondary" onclick="showLogin()">Back to Login</button>
                </form>
            </div>

            <!-- Social Login -->
            <div class="social-login">
                <h3>Or continue with:</h3>
                <div class="social-buttons">
                    <button class="btn social-btn google">üìß Google</button>
                    <button class="btn social-btn facebook">üìò Facebook</button>
                    <button class="btn social-btn spotify">üéµ Spotify</button>
                    <button class="btn social-btn apple">üçé Apple</button>
                </div>
            </div>

            <!-- Features for New Users -->
            <div class="signup-benefits">
                <h3>Why Join Music Engine?</h3>
                <div class="features">
                    <div class="feature-card">
                        <h4>üéµ Copyright Protection</h4>
                        <p>Secure your music rights with blockchain technology</p>
                    </div>
                    <div class="feature-card">
                        <h4>üí∞ Royalty Management</h4>
                        <p>Automated split calculations and transparent payments</p>
                    </div>
                    <div class="feature-card">
                        <h4>üìÑ Legal Templates</h4>
                        <p>Access to industry-standard contract templates</p>
                    </div>
                    <div class="feature-card">
                        <h4>üåç Global Reach</h4>
                        <p>International copyright compliance and protection</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-links">
                    <a href="privacy.html">Privacy Policy</a>
                    <a href="eula.html">EULA</a>
                    <a href="terms.html">Terms of Usage</a>
                </div>
                <div class="social-media">
                    <a href="#" class="social-icon">üìò</a>
                    <a href="#" class="social-icon">üê¶</a>
                    <a href="#" class="social-icon">üì∑</a>
                    <a href="#" class="social-icon">üéµ</a>
                </div>
            </div>
            <p>&copy; 2024 Music Engine. Powered by Boserena Studio. All rights reserved.</p>
        </div>
    </footer>

    <script>
        let qrCodeGenerated = false;
        let loginTimeout;

        function generateQR() {
            const canvas = document.getElementById('qrcode');
            const sessionId = 'ME_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            const qrData = `https://musicengine.com/mobile-login?session=${sessionId}`;
            
            QRCode.toCanvas(canvas, qrData, {
                width: 200,
                margin: 2,
                color: {
                    dark: '#007cba',
                    light: '#ffffff'
                }
            }, function (error) {
                if (error) {
                    console.error(error);
                    document.getElementById('qrStatus').textContent = 'Error generating QR code';
                } else {
                    qrCodeGenerated = true;
                    document.getElementById('qrStatus').textContent = 'Scan with your mobile device';
                    simulateQRLogin();
                }
            });
        }

        function simulateQRLogin() {
            // Simulate QR code scan after 10 seconds for demo
            loginTimeout = setTimeout(() => {
                document.getElementById('qrStatus').textContent = 'Login successful! Redirecting...';
                setTimeout(() => {
                    window.location.href = 'profile.html';
                }, 2000);
            }, 10000);
        }

        function showSignup() {
            document.querySelector('.login-container').style.display = 'none';
            document.getElementById('signupContainer').style.display = 'block';
        }

        function showLogin() {
            document.querySelector('.login-container').style.display = 'flex';
            document.getElementById('signupContainer').style.display = 'none';
        }

        // Form submissions
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Login successful! Redirecting to dashboard...');
            window.location.href = 'profile.html';
        });

        document.getElementById('signupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Account created successfully! Please check your email for verification.');
            showLogin();
        });

        // Social login buttons
        document.querySelectorAll('.social-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const provider = this.textContent.trim().split(' ')[1];
                alert(`Redirecting to ${provider} login...`);
            });
        });

        // Generate initial QR code
        window.addEventListener('load', function() {
            generateQR();
        });
    </script>

    <style>
        .login-container {
            display: flex;
            gap: 3rem;
            margin: 2rem 0;
            justify-content: center;
            flex-wrap: wrap;
        }

        .login-method {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            min-width: 300px;
            flex: 1;
            max-width: 400px;
        }

        .qr-container {
            margin: 2rem 0;
            display: flex;
            justify-content: center;
        }

        .qr-status {
            color: #007cba;
            font-weight: bold;
            margin-top: 1rem;
        }

        .signup-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin: 2rem 0;
        }

        .social-login {
            text-align: center;
            margin: 3rem 0;
        }

        .social-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .social-btn {
            min-width: 120px;
        }

        .google { background: #db4437; }
        .facebook { background: #3b5998; }
        .spotify { background: #1db954; }
        .apple { background: #000; }

        .signup-benefits {
            margin: 3rem 0;
        }

        .signup-benefits .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .signup-benefits .feature-card {
            padding: 1.5rem;
            text-align: center;
        }

        @media (max-width: 768px) {
            .login-container {
                flex-direction: column;
                align-items: center;
            }
            
            .social-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</body>
</html>